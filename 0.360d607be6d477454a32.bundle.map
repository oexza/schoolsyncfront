{"version":3,"sources":["webpack:///0.360d607be6d477454a32.chunk.js","webpack:////home/peace/Desktop/schoolsyncfront/src/app/school/school.module.ts","webpack:////home/peace/Desktop/schoolsyncfront/src/app/school/school-protected-pages-guard.service.ts","webpack:////home/peace/Desktop/schoolsyncfront/src/app/school/school-home/school-home.component.ts","webpack:////home/peace/Desktop/schoolsyncfront/src/app/school/school.component.ts","webpack:////home/peace/Desktop/schoolsyncfront/src/app/services/school-can-activate-guard.service.ts","webpack:////home/peace/Desktop/schoolsyncfront/src/app/school/school-routing.module.ts","webpack:////home/peace/Desktop/schoolsyncfront/src/app/school/school-home/school-home.component.css","webpack:////home/peace/Desktop/schoolsyncfront/src/app/school/school.component.css","webpack:////home/peace/Desktop/schoolsyncfront/src/app/school/school-home/school-home.component.html","webpack:////home/peace/Desktop/schoolsyncfront/src/app/school/school.component.html"],"names":["webpackJsonp","895","module","exports","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0__angular_core__","__WEBPACK_IMPORTED_MODULE_1__angular_common__","__WEBPACK_IMPORTED_MODULE_2__angular_forms__","__WEBPACK_IMPORTED_MODULE_3__school_component__","__WEBPACK_IMPORTED_MODULE_4__school_routing_module__","__WEBPACK_IMPORTED_MODULE_5__school_home_school_home_component__","__WEBPACK_IMPORTED_MODULE_6__services_school_can_activate_guard_service__","__WEBPACK_IMPORTED_MODULE_7__school_school_protected_pages_guard_service__","__WEBPACK_IMPORTED_MODULE_8__angular_material__","d","SchoolModule","__decorate","this","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","imports","declarations","providers","896","__WEBPACK_IMPORTED_MODULE_1__services_auth_service__","__WEBPACK_IMPORTED_MODULE_2__angular_router__","__WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__","__WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map__","n","SchoolProtectedPagesGuardService","authService","router","prototype","canActivate","route","state","_this","schoolId","parent","params","isLoggedInAndBelongsToSchoolObservable","fromPromise","isLoggedInAndBelongsToSchool","map","res","redirectUrl","url","navigate","Promise","resolve","canLoad","isLoggedIn","_a","_b","898","__WEBPACK_IMPORTED_MODULE_3__angular_router__","SchoolHomeComponent","auth","activatedRoute","formBuilder","ngOnInit","staffLoginForm","group","email","required","password","staffLogin","console","log","value","userPass","snapshot","login","username","passsword","subscribe","data","alert","JSON","stringify","staff","navigateByUrl","selector","template","styles","_c","_d","899","SchoolComponent","900","__WEBPACK_IMPORTED_MODULE_1_angular2_apollo__","__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__","__WEBPACK_IMPORTED_MODULE_3_graphql_tag__","__WEBPACK_IMPORTED_MODULE_3_graphql_tag___default","SchoolCanActivateGuardService","query","raw","apollo","variables","schoolIdentifier","findSchool","canActivateChild","903","__WEBPACK_IMPORTED_MODULE_1__angular_router__","__WEBPACK_IMPORTED_MODULE_3__angular_material__","__WEBPACK_IMPORTED_MODULE_4__school_school_component__","__WEBPACK_IMPORTED_MODULE_5__services_school_can_activate_guard_service__","__WEBPACK_IMPORTED_MODULE_6__school_home_school_home_component__","SchoolRoutingModule","schoolRoutes","path","component","children","loadChildren","forChild","906","907","910","911"],"mappings":"AAAAA,cAAc,EAAE,IAEVC,IACA,SAASC,EAAQC,EAASC,GAEhC,YACqB,IAAIC,GAA8CD,EAAoB,GAClEE,EAAgDF,EAAoB,IACpEG,EAA+CH,EAAoB,IACnEI,EAAkDJ,EAAoB,KACtEK,EAAuDL,EAAoB,KAC3EM,EAAmEN,EAAoB,KACvFO,EAA4EP,EAAoB,KAChGQ,EAA6ER,EAAoB,KACjGS,EAAkDT,EAAoB,IAChEA,GAAoBU,EAAEX,EAAS,eAAgB,WAAa,MAAOY,IAClG,IAAIC,GAAcC,MAAQA,KAAKD,YAAe,SAAUE,EAAYC,EAAQC,EAAKC,GAC7E,GAA2HP,GAAvHQ,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOK,OAAOC,yBAAyBR,EAAQC,GAAOC,CACrH,IAAuB,gBAAZO,UAAoD,kBAArBA,SAAQC,SAAyBJ,EAAIG,QAAQC,SAASX,EAAYC,EAAQC,EAAKC,OACpH,KAAK,GAAIS,GAAIZ,EAAWM,OAAS,EAAGM,GAAK,EAAGA,KAAShB,EAAII,EAAWY,MAAIL,GAAKH,EAAI,EAAIR,EAAEW,GAAKH,EAAI,EAAIR,EAAEK,EAAQC,EAAKK,GAAKX,EAAEK,EAAQC,KAASK,EAChJ,OAAOH,GAAI,GAAKG,GAAKC,OAAOK,eAAeZ,EAAQC,EAAKK,GAAIA,GAE5DO,EAAcf,MAAQA,KAAKe,YAAe,SAAUC,EAAGC,GACvD,GAAuB,gBAAZN,UAAoD,kBAArBA,SAAQO,SAAyB,MAAOP,SAAQO,SAASF,EAAGC,ICC1GnB,EAAA,mBAAAA,MAA4B,MAd5BA,GAAAC,GAACZ,EAAA0B,EAAAzB,EAAA,WACC+B,SACE9B,EAAA,EACAO,EAAA,EACAN,EAAA,EAAYA,EAAA,EACZE,EAAA,GAEF4B,cAAe7B,EAAA,EAAiBE,EAAA,GAChCP,SAAUU,EAAA,GACVyB,WACE1B,EAAA,EACAD,EAAA,KD+BIqB,EAAW,yBACZjB,OAODwB,IACA,SAASrC,EAAQC,EAASC,GAEhC,YACqB,IAAIC,GAA8CD,EAAoB,GAClEoC,EAAuDpC,EAAoB,KAC3EqC,EAAgDrC,EAAoB,KACpEsC,EAAgDtC,EAAoB,GAEpEuC,GADwDvC,EAAoBwC,EAAEF,GACxBtC,EAAoB,KACZA,GAAoBwC,EAAED,EAC9EvC,GAAoBU,EAAEX,EAAS,IAAK,WAAa,MAAO0C,IACvF,IAAI7B,GAAcC,MAAQA,KAAKD,YAAe,SAAUE,EAAYC,EAAQC,EAAKC,GAC7E,GAA2HP,GAAvHQ,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOK,OAAOC,yBAAyBR,EAAQC,GAAOC,CACrH,IAAuB,gBAAZO,UAAoD,kBAArBA,SAAQC,SAAyBJ,EAAIG,QAAQC,SAASX,EAAYC,EAAQC,EAAKC,OACpH,KAAK,GAAIS,GAAIZ,EAAWM,OAAS,EAAGM,GAAK,EAAGA,KAAShB,EAAII,EAAWY,MAAIL,GAAKH,EAAI,EAAIR,EAAEW,GAAKH,EAAI,EAAIR,EAAEK,EAAQC,EAAKK,GAAKX,EAAEK,EAAQC,KAASK,EAChJ,OAAOH,GAAI,GAAKG,GAAKC,OAAOK,eAAeZ,EAAQC,EAAKK,GAAIA,GAE5DO,EAAcf,MAAQA,KAAKe,YAAe,SAAUC,EAAGC,GACvD,GAAuB,gBAAZN,UAAoD,kBAArBA,SAAQO,SAAyB,MAAOP,SAAQO,SAASF,EAAGC,IElE1GW,EAAA,WAEE,QAAAA,GAAoBC,EAAkCC,GAAlC9B,KAAA6B,cAAkC7B,KAAA8B,SA0BxD,MAxBEF,GAAAG,UAAAC,YAAA,SAAYC,EAA+BC,GAA3C,GAAAC,GAAAnC,KACMoC,EAAmBH,EAAMI,OAAOA,OAAOC,OAAiB,QAG5D,IAAIF,EAAU,CACZ,GAAMG,GAA8Dd,EAAA,WAAWe,YAAYxC,KAAK6B,YAAYY,6BAA6BL,GAEzI,OAAOG,GAAuCG,IAAI,SAACC,GACjD,QAAIA,IAGJR,EAAKN,YAAYe,YAAcV,EAAMW,IAErCV,EAAKL,OAAOgB,UAAU,IAAKV,KACpB,KAIX,MAAOX,GAAA,WAAWe,YAAYO,QAAQC,SAAQ,KAGhDpB,EAAAG,UAAAkB,QAAA,SAAQhB,GACN,MAAOjC,MAAK6B,YAAYqB,cA3B5BtB,EAAA7B,GAACZ,EAAA0B,EAAAzB,EAAA,cFsGO2B,EAAW,qBAA2N,mBAA5LoC,EAA4F,mBAAhF5B,GAA0E,GAAqBA,EAA0E,IAAqB4B,GAAO1C,OAAqL,mBAApK2C,EAAgF,mBAApE5B,GAA8D,GAAqBA,EAA8D,IAAqB4B,GAAO3C,UACtcmB,EAEH,IAAIuB,GAAIC,MAMNC,IACA,SAASpE,EAAQC,EAASC,GAEhC,YACqB,IAAIC,GAA8CD,EAAoB,GAClEoC,EAAuDpC,EAAoB,KAC3EG,EAA+CH,EAAoB,IACnEmE,EAAgDnE,EAAoB,IAC9DA,GAAoBU,EAAEX,EAAS,IAAK,WAAa,MAAOqE,IACvF,IAAIxD,GAAcC,MAAQA,KAAKD,YAAe,SAAUE,EAAYC,EAAQC,EAAKC,GAC7E,GAA2HP,GAAvHQ,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOK,OAAOC,yBAAyBR,EAAQC,GAAOC,CACrH,IAAuB,gBAAZO,UAAoD,kBAArBA,SAAQC,SAAyBJ,EAAIG,QAAQC,SAASX,EAAYC,EAAQC,EAAKC,OACpH,KAAK,GAAIS,GAAIZ,EAAWM,OAAS,EAAGM,GAAK,EAAGA,KAAShB,EAAII,EAAWY,MAAIL,GAAKH,EAAI,EAAIR,EAAEW,GAAKH,EAAI,EAAIR,EAAEK,EAAQC,EAAKK,GAAKX,EAAEK,EAAQC,KAASK,EAChJ,OAAOH,GAAI,GAAKG,GAAKC,OAAOK,eAAeZ,EAAQC,EAAKK,GAAIA,GAE5DO,EAAcf,MAAQA,KAAKe,YAAe,SAAUC,EAAGC,GACvD,GAAuB,gBAAZN,UAAoD,kBAArBA,SAAQO,SAAyB,MAAOP,SAAQO,SAASF,EAAGC,IGhI1GsC,EAAA,WAKE,QAAAA,GAAoBC,EAA2BC,EAAwC3B,EAAwB4B,GAA3F1D,KAAAwD,OAA2BxD,KAAAyD,iBAAwCzD,KAAA8B,SAAwB9B,KAAA0D,cAyBjH,MAvBEH,GAAAxB,UAAA4B,SAAA,WACE3D,KAAK4D,eAAiB5D,KAAK0D,YAAYG,OACrCC,OAAQ,GAAIxE,EAAA,EAAWyE,UACvBC,UAAW,GAAI1E,EAAA,EAAWyE,aAI9BR,EAAAxB,UAAAkC,WAAA,cAAA9B,GAAAnC,IACEkE,SAAQC,IAAInE,KAAK4D,eAAeQ,MAChC,IAAMC,GAAWrE,KAAK4D,eAAeQ,MAC/BhC,EAAWpC,KAAKyD,eAAepB,OAAOiC,SAAShC,OAAiB,QAGtEtC,MAAKwD,KAAKe,OAAQC,SAAUH,EAASP,MAAOW,UAAWJ,EAASL,SAAU5B,SAAUA,IAAYsC,UAAU,SAACC,GACzGC,MAAMC,KAAKC,UAAUH,IACjBA,EAAKI,QACH5C,EAAKqB,KAAKZ,YACZT,EAAKL,OAAOkD,cAAc7C,EAAKqB,KAAKZ,aAEpCT,EAAKL,OAAOgB,UAAU,IAAKV,EAAU,kBA/B/CmB,EAAAxD,GAACZ,EAAA0B,EAAAzB,EAAA,YACC6F,SAAU,kBACVC,SAAU/F,EAAQ,KAClBgG,QAAShG,EAAQ,QH4KX4B,EAAW,qBAA2N,mBAA5LoC,EAA4F,mBAAhF5B,GAA0E,GAAqBA,EAA0E,IAAqB4B,GAAO1C,OAAqM,mBAApL2C,EAAwF,mBAA5EE,GAAsE,GAAqBA,EAAsE,IAAqBF,GAAO3C,OAAqL,mBAApK2E,EAAgF,mBAApE9B,GAA8D,GAAqBA,EAA8D,IAAqB8B,GAAO3E,OAA6L,mBAA5K4E,EAAoF,mBAAxE/F,GAAkE,GAAqBA,EAAkE,IAAqB+F,GAAO5E,UACl3B8C,EAEH,IAAIJ,GAAIC,EAAIgC,EAAIC,MAMdC,IACA,SAASrG,EAAQC,EAASC,GAEhC,YACqB,IAAIC,GAA8CD,EAAoB,EAC5DA,GAAoBU,EAAEX,EAAS,IAAK,WAAa,MAAOqG,IACvF,IAAIxF,GAAcC,MAAQA,KAAKD,YAAe,SAAUE,EAAYC,EAAQC,EAAKC,GAC7E,GAA2HP,GAAvHQ,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOK,OAAOC,yBAAyBR,EAAQC,GAAOC,CACrH,IAAuB,gBAAZO,UAAoD,kBAArBA,SAAQC,SAAyBJ,EAAIG,QAAQC,SAASX,EAAYC,EAAQC,EAAKC,OACpH,KAAK,GAAIS,GAAIZ,EAAWM,OAAS,EAAGM,GAAK,EAAGA,KAAShB,EAAII,EAAWY,MAAIL,GAAKH,EAAI,EAAIR,EAAEW,GAAKH,EAAI,EAAIR,EAAEK,EAAQC,EAAKK,GAAKX,EAAEK,EAAQC,KAASK,EAChJ,OAAOH,GAAI,GAAKG,GAAKC,OAAOK,eAAeZ,EAAQC,EAAKK,GAAIA,GAE5DO,EAAcf,MAAQA,KAAKe,YAAe,SAAUC,EAAGC,GACvD,GAAuB,gBAAZN,UAAoD,kBAArBA,SAAQO,SAAyB,MAAOP,SAAQO,SAASF,EAAGC,IIpM1GsE,EAAA,WAEE,QAAAA,MAKF,MAHEA,GAAAxD,UAAA4B,SAAA,aATF4B,EAAAxF,GAACZ,EAAA0B,EAAAzB,EAAA,YACC6F,SAAU,aACVC,SAAU/F,EAAQ,KAClBgG,QAAShG,EAAQ,QJoNX4B,EAAW,yBACZwE,OAODC,IACA,SAASvG,EAAQC,EAASC,GAEhC,YACqB,IAAIC,GAA8CD,EAAoB,GAClEsG,EAAgDtG,EAAoB,KAEpEuG,GADwDvG,EAAoBwC,EAAE8D,GACxBtG,EAAoB,MAE1EwG,GAD8DxG,EAAoBwC,EAAE+D,GACxCvG,EAAoB,MAChEyG,EAAoDzG,EAAoBwC,EAAEgE,EACpExG,GAAoBU,EAAEX,EAAS,IAAK,WAAa,MAAO2G,IACvF,IA4CI1C,GA5CApD,EAAcC,MAAQA,KAAKD,YAAe,SAAUE,EAAYC,EAAQC,EAAKC,GAC7E,GAA2HP,GAAvHQ,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOK,OAAOC,yBAAyBR,EAAQC,GAAOC,CACrH,IAAuB,gBAAZO,UAAoD,kBAArBA,SAAQC,SAAyBJ,EAAIG,QAAQC,SAASX,EAAYC,EAAQC,EAAKC,OACpH,KAAK,GAAIS,GAAIZ,EAAWM,OAAS,EAAGM,GAAK,EAAGA,KAAShB,EAAII,EAAWY,MAAIL,GAAKH,EAAI,EAAIR,EAAEW,GAAKH,EAAI,EAAIR,EAAEK,EAAQC,EAAKK,GAAKX,EAAEK,EAAQC,KAASK,EAChJ,OAAOH,GAAI,GAAKG,GAAKC,OAAOK,eAAeZ,EAAQC,EAAKK,GAAIA,GAE5DO,EAAcf,MAAQA,KAAKe,YAAe,SAAUC,EAAGC,GACvD,GAAuB,gBAAZN,UAAoD,kBAArBA,SAAQO,SAAyB,MAAOP,SAAQO,SAASF,EAAGC,IKzOpG6E,GAAQ3C,GAAG,qHAKfA,EAAA4C,KAAA,qHALYH,IAAGzC,IAQjB0C,EAAA,WAEE,QAAAA,GAAoBG,GAAAhG,KAAAgG,SAwBtB,MAtBEH,GAAA9D,UAAAC,YAAA,SAAYC,EAA+BC,GACzC,GAAIE,GAAmBH,EAAMK,OAAiB,QAE9C,OAAOtC,MAAKgG,OAAOF,OACjBA,MAAOA,EACPG,WAAaC,iBAAkB9D,KAC9BM,IAAI,SAACS,GLwOA,GKxOCwB,GAAAxB,EAAAwB,IACP,SAAIA,EAAKwB,cAQbN,EAAA9D,UAAAkB,QAAA,SAAQhB,GACN,OAAO,GAGT4D,EAAA9D,UAAAqE,iBAAA,SAAiBnE,EAA+BC,GAC9C,MAAOlC,MAAKgC,YAAYC,EAAOC,IAzBnC2D,EAAA9F,GAACZ,EAAA0B,EAAAzB,EAAA,cLkQO2B,EAAW,qBAAmM,mBAApKoC,EAAgF,mBAApEsC,GAA8D,gBAAqBA,EAA8D,iBAAqBtC,GAAO1C,UACpOoF,EAEH,IAAI1C,OAOFkD,IACA,SAASpH,EAAQC,EAASC,GAEhC,YACqB,IAAIC,GAA8CD,EAAoB,GAClEmH,EAAgDnH,EAAoB,KACpEG,EAA+CH,EAAoB,IACnEoH,EAAkDpH,EAAoB,KACtEqH,EAAyDrH,EAAoB,KAC7EsH,EAA4EtH,EAAoB,KAChGuH,EAAmEvH,EAAoB,IACjFA,GAAoBU,EAAEX,EAAS,IAAK,WAAa,MAAOyH,IACvF,IAAI5G,GAAcC,MAAQA,KAAKD,YAAe,SAAUE,EAAYC,EAAQC,EAAKC,GAC7E,GAA2HP,GAAvHQ,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOK,OAAOC,yBAAyBR,EAAQC,GAAOC,CACrH,IAAuB,gBAAZO,UAAoD,kBAArBA,SAAQC,SAAyBJ,EAAIG,QAAQC,SAASX,EAAYC,EAAQC,EAAKC,OACpH,KAAK,GAAIS,GAAIZ,EAAWM,OAAS,EAAGM,GAAK,EAAGA,KAAShB,EAAII,EAAWY,MAAIL,GAAKH,EAAI,EAAIR,EAAEW,GAAKH,EAAI,EAAIR,EAAEK,EAAQC,EAAKK,GAAKX,EAAEK,EAAQC,KAASK,EAChJ,OAAOH,GAAI,GAAKG,GAAKC,OAAOK,eAAeZ,EAAQC,EAAKK,GAAIA,GAE5DO,EAAcf,MAAQA,KAAKe,YAAe,SAAUC,EAAGC,GACvD,GAAuB,gBAAZN,UAAoD,kBAArBA,SAAQO,SAAyB,MAAOP,SAAQO,SAASF,EAAGC,IMzSpG2F,IAEEC,KAAM,GACNC,UAAWN,EAAA,EACXxE,aAAcyE,EAAA,GACdM,WAEQF,KAAM,GACNC,UAAWJ,EAAA,IAGXG,KAAM,YACNG,aAAc,4DAe9BL,EAAA,mBAAAA,MAAmC,MATnCA,GAAA5G,GAACZ,EAAA0B,EAAAzB,EAAA,WACG+B,SACImF,EAAA,EAAaW,SAASL,GAAeL,EAAA,EAAgBjH,EAAA,EAAqBA,EAAA,GAE9EJ,SACIoH,EAAA,KNwTAvF,EAAW,yBACZ4F,OAODO,IACA,SAASjI,EAAQC,GOhWvBD,EAAAC,QAAA,IPsWMiI,IACA,SAASlI,EAAQC,GQvWvBD,EAAAC,QAAA,IR6WMkI,IACA,SAASnI,EAAQC,GS9WvBD,EAAAC,QAAA,+tBToXMmI,IACA,SAASpI,EAAQC,GUrXvBD,EAAAC,QAAA","file":"0.360d607be6d477454a32.chunk.js","sourcesContent":["webpackJsonp([0,5],{\n\n/***/ 895:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__school_component__ = __webpack_require__(899);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__school_routing_module__ = __webpack_require__(903);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__school_home_school_home_component__ = __webpack_require__(898);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_school_can_activate_guard_service__ = __webpack_require__(900);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__school_school_protected_pages_guard_service__ = __webpack_require__(896);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_material__ = __webpack_require__(491);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"SchoolModule\", function() { return SchoolModule; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\n\n\n\n\n\nvar SchoolModule = (function () {\n    function SchoolModule() {\n    }\n    SchoolModule = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"NgModule\"])({\n            imports: [\n                __WEBPACK_IMPORTED_MODULE_1__angular_common__[\"c\" /* CommonModule */],\n                __WEBPACK_IMPORTED_MODULE_8__angular_material__[\"a\" /* MaterialModule */],\n                __WEBPACK_IMPORTED_MODULE_2__angular_forms__[\"b\" /* FormsModule */], __WEBPACK_IMPORTED_MODULE_2__angular_forms__[\"e\" /* ReactiveFormsModule */],\n                __WEBPACK_IMPORTED_MODULE_4__school_routing_module__[\"a\" /* SchoolRoutingModule */]\n            ],\n            declarations: [__WEBPACK_IMPORTED_MODULE_3__school_component__[\"a\" /* SchoolComponent */], __WEBPACK_IMPORTED_MODULE_5__school_home_school_home_component__[\"a\" /* SchoolHomeComponent */]],\n            exports: [__WEBPACK_IMPORTED_MODULE_8__angular_material__[\"a\" /* MaterialModule */]],\n            providers: [\n                __WEBPACK_IMPORTED_MODULE_7__school_school_protected_pages_guard_service__[\"a\" /* SchoolProtectedPagesGuardService */],\n                __WEBPACK_IMPORTED_MODULE_6__services_school_can_activate_guard_service__[\"a\" /* SchoolCanActivateGuardService */]\n            ]\n        }), \n        __metadata('design:paramtypes', [])\n    ], SchoolModule);\n    return SchoolModule;\n}());\n\n\n/***/ },\n\n/***/ 896:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_auth_service__ = __webpack_require__(490);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__(489);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map__ = __webpack_require__(166);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map__);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return SchoolProtectedPagesGuardService; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\n\nvar SchoolProtectedPagesGuardService = (function () {\n    function SchoolProtectedPagesGuardService(authService, router) {\n        this.authService = authService;\n        this.router = router;\n    }\n    SchoolProtectedPagesGuardService.prototype.canActivate = function (route, state) {\n        var _this = this;\n        var schoolId = route.parent.parent.params['schoolId'];\n        //alert(schoolId)\n        if (schoolId) {\n            var isLoggedInAndBelongsToSchoolObservable = __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__[\"Observable\"].fromPromise(this.authService.isLoggedInAndBelongsToSchool(schoolId));\n            return isLoggedInAndBelongsToSchoolObservable.map(function (res) {\n                if (res)\n                    return true;\n                // Store the attempted URL for redirecting\n                _this.authService.redirectUrl = state.url;\n                // Navigate to the school home page\n                _this.router.navigate(['/', schoolId]);\n                return false;\n            });\n        }\n        return __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__[\"Observable\"].fromPromise(Promise.resolve(false));\n    };\n    SchoolProtectedPagesGuardService.prototype.canLoad = function (route) {\n        return this.authService.isLoggedIn();\n    };\n    SchoolProtectedPagesGuardService = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Injectable\"])(), \n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__services_auth_service__[\"a\" /* AuthService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__services_auth_service__[\"a\" /* AuthService */]) === 'function' && _a) || Object, (typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__[\"c\" /* Router */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_2__angular_router__[\"c\" /* Router */]) === 'function' && _b) || Object])\n    ], SchoolProtectedPagesGuardService);\n    return SchoolProtectedPagesGuardService;\n    var _a, _b;\n}());\n\n\n/***/ },\n\n/***/ 898:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_auth_service__ = __webpack_require__(490);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__(489);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return SchoolHomeComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\nvar SchoolHomeComponent = (function () {\n    //sub: Subscription\n    function SchoolHomeComponent(auth, activatedRoute, router, formBuilder) {\n        this.auth = auth;\n        this.activatedRoute = activatedRoute;\n        this.router = router;\n        this.formBuilder = formBuilder;\n    }\n    SchoolHomeComponent.prototype.ngOnInit = function () {\n        this.staffLoginForm = this.formBuilder.group({\n            email: ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__[\"c\" /* Validators */].required],\n            password: ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__[\"c\" /* Validators */].required]\n        });\n    };\n    SchoolHomeComponent.prototype.staffLogin = function () {\n        var _this = this;\n        console.log(this.staffLoginForm.value);\n        var userPass = this.staffLoginForm.value;\n        var schoolId = this.activatedRoute.parent.snapshot.params['schoolId'];\n        //alert(schoolId)\n        this.auth.login({ username: userPass.email, passsword: userPass.password, schoolId: schoolId }).subscribe(function (data) {\n            alert(JSON.stringify(data));\n            if (data.staff) {\n                if (_this.auth.redirectUrl)\n                    _this.router.navigateByUrl(_this.auth.redirectUrl);\n                else\n                    _this.router.navigate(['/', schoolId, 'dashboard']);\n            }\n        });\n    };\n    SchoolHomeComponent = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\n            selector: 'app-school-home',\n            template: __webpack_require__(910),\n            styles: [__webpack_require__(906)]\n        }), \n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__services_auth_service__[\"a\" /* AuthService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__services_auth_service__[\"a\" /* AuthService */]) === 'function' && _a) || Object, (typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_3__angular_router__[\"b\" /* ActivatedRoute */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_3__angular_router__[\"b\" /* ActivatedRoute */]) === 'function' && _b) || Object, (typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__angular_router__[\"c\" /* Router */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_3__angular_router__[\"c\" /* Router */]) === 'function' && _c) || Object, (typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_2__angular_forms__[\"d\" /* FormBuilder */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_2__angular_forms__[\"d\" /* FormBuilder */]) === 'function' && _d) || Object])\n    ], SchoolHomeComponent);\n    return SchoolHomeComponent;\n    var _a, _b, _c, _d;\n}());\n\n\n/***/ },\n\n/***/ 899:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return SchoolComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nvar SchoolComponent = (function () {\n    function SchoolComponent() {\n    }\n    SchoolComponent.prototype.ngOnInit = function () {\n    };\n    SchoolComponent = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\n            selector: 'app-school',\n            template: __webpack_require__(911),\n            styles: [__webpack_require__(907)]\n        }), \n        __metadata('design:paramtypes', [])\n    ], SchoolComponent);\n    return SchoolComponent;\n}());\n\n\n/***/ },\n\n/***/ 900:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_angular2_apollo__ = __webpack_require__(275);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_angular2_apollo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_angular2_apollo__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__ = __webpack_require__(166);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_graphql_tag__ = __webpack_require__(492);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_graphql_tag___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_graphql_tag__);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return SchoolCanActivateGuardService; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\nvar query = (_a = [\"\\nquery getSchool ($schoolIdentifier:String!){\\n  findSchool(schoolIdentifier:$schoolIdentifier){\\n    id\\n  }\\n}\"], _a.raw = [\"\\nquery getSchool ($schoolIdentifier:String!){\\n  findSchool(schoolIdentifier:$schoolIdentifier){\\n    id\\n  }\\n}\"], __WEBPACK_IMPORTED_MODULE_3_graphql_tag___default()(_a));\nvar SchoolCanActivateGuardService = (function () {\n    function SchoolCanActivateGuardService(apollo) {\n        this.apollo = apollo;\n    }\n    SchoolCanActivateGuardService.prototype.canActivate = function (route, state) {\n        var schoolId = route.params['schoolId'];\n        return this.apollo.query({\n            query: query,\n            variables: { schoolIdentifier: schoolId }\n        }).map(function (_a) {\n            var data = _a.data;\n            if (data.findSchool) {\n                return true;\n            }\n            return false;\n        });\n    };\n    SchoolCanActivateGuardService.prototype.canLoad = function (route) {\n        return true;\n    };\n    SchoolCanActivateGuardService.prototype.canActivateChild = function (route, state) {\n        return this.canActivate(route, state);\n    };\n    SchoolCanActivateGuardService = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Injectable\"])(), \n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1_angular2_apollo__[\"Angular2Apollo\"] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1_angular2_apollo__[\"Angular2Apollo\"]) === 'function' && _a) || Object])\n    ], SchoolCanActivateGuardService);\n    return SchoolCanActivateGuardService;\n    var _a;\n}());\nvar _a;\n\n\n/***/ },\n\n/***/ 903:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__(489);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_material__ = __webpack_require__(491);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__school_school_component__ = __webpack_require__(899);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_school_can_activate_guard_service__ = __webpack_require__(900);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__school_home_school_home_component__ = __webpack_require__(898);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return SchoolRoutingModule; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\n\n\n\nvar schoolRoutes = [\n    {\n        path: '',\n        component: __WEBPACK_IMPORTED_MODULE_4__school_school_component__[\"a\" /* SchoolComponent */],\n        canActivate: [__WEBPACK_IMPORTED_MODULE_5__services_school_can_activate_guard_service__[\"a\" /* SchoolCanActivateGuardService */]],\n        children: [\n            {\n                path: '',\n                component: __WEBPACK_IMPORTED_MODULE_6__school_home_school_home_component__[\"a\" /* SchoolHomeComponent */]\n            },\n            {\n                path: 'dashboard',\n                loadChildren: 'app/school/dashboard/dashboard.module#DashboardModule'\n            }\n        ]\n    }\n];\nvar SchoolRoutingModule = (function () {\n    function SchoolRoutingModule() {\n    }\n    SchoolRoutingModule = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"NgModule\"])({\n            imports: [\n                __WEBPACK_IMPORTED_MODULE_1__angular_router__[\"a\" /* RouterModule */].forChild(schoolRoutes), __WEBPACK_IMPORTED_MODULE_3__angular_material__[\"a\" /* MaterialModule */], __WEBPACK_IMPORTED_MODULE_2__angular_forms__[\"e\" /* ReactiveFormsModule */], __WEBPACK_IMPORTED_MODULE_2__angular_forms__[\"b\" /* FormsModule */]\n            ],\n            exports: [\n                __WEBPACK_IMPORTED_MODULE_1__angular_router__[\"a\" /* RouterModule */]\n            ],\n        }), \n        __metadata('design:paramtypes', [])\n    ], SchoolRoutingModule);\n    return SchoolRoutingModule;\n}());\n\n\n/***/ },\n\n/***/ 906:\n/***/ function(module, exports) {\n\nmodule.exports = \"\"\n\n/***/ },\n\n/***/ 907:\n/***/ function(module, exports) {\n\nmodule.exports = \"\"\n\n/***/ },\n\n/***/ 910:\n/***/ function(module, exports) {\n\nmodule.exports = \"<div id=\\\"staff_login_card\\\">\\n  <md-card class=\\\"app-input-section\\\">\\n    <md-card-title>\\n      <md-toolbar color=\\\"primary\\\">Staff Login</md-toolbar>\\n    </md-card-title>\\n    <md-card-content>\\n      <form [formGroup]=\\\"staffLoginForm\\\" (ngSubmit)=\\\"staffLogin()\\\">\\n        <md-input style=\\\"width: 100%\\\" formControlName=\\\"email\\\" placeholder=\\\"Email\\\"></md-input>\\n\\n        <md-input style=\\\"width: 100%\\\" type=\\\"password\\\" formControlName=\\\"password\\\" #password placeholder=\\\"Password\\\" maxlength=\\\"50\\\">\\n        </md-input>\\n\\n        <button style=\\\"width: 100%\\\" type=\\\"submit\\\" md-raised-button [disabled]=\\\"!staffLoginForm.valid\\\" color=\\\"primary\\\">\\n          LOGIN\\n          </button>\\n      </form>\\n    </md-card-content>\\n  </md-card>\\n</div>\"\n\n/***/ },\n\n/***/ 911:\n/***/ function(module, exports) {\n\nmodule.exports = \"<p>\\n  school works!\\n\\n  <router-outlet></router-outlet>\\n</p>\\n\"\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// 0.360d607be6d477454a32.chunk.js","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { SchoolComponent } from './school.component';\nimport { SchoolRoutingModule } from './school-routing.module';\nimport { SchoolHomeComponent } from './school-home/school-home.component';\nimport { SchoolCanActivateGuardService } from '../services/school-can-activate-guard.service';\nimport { SchoolProtectedPagesGuardService } from '../school/school-protected-pages-guard.service';\nimport { MaterialModule } from '@angular/material';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MaterialModule,\n    FormsModule,ReactiveFormsModule,\n    SchoolRoutingModule\n  ],\n  declarations: [SchoolComponent, SchoolHomeComponent],\n  exports: [MaterialModule],\n  providers: [\n    SchoolProtectedPagesGuardService,\n    SchoolCanActivateGuardService\n  ]\n})\nexport class SchoolModule { }\n\n\n\n// WEBPACK FOOTER //\n// /home/peace/Desktop/schoolsyncfront/~/angular2-template-loader!/home/peace/Desktop/schoolsyncfront/src/app/school/school.module.ts","import { Injectable } from '@angular/core';\nimport { AuthService } from '../services/auth.service';\nimport { CanActivate, Route, Router, CanLoad, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs/Observable';\n\nimport {\n  Angular2Apollo, ApolloQueryObservable\n} from 'angular2-apollo';\n\nimport 'rxjs/add/operator/map';\nimport gql from 'graphql-tag';\n\n@Injectable()\nexport class SchoolProtectedPagesGuardService implements CanActivate, CanLoad {\n\n  constructor(private authService: AuthService, private router: Router) { }\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    var schoolId: string = route.parent.parent.params['schoolId']\n\n    //alert(schoolId)\n    if (schoolId) {\n      const isLoggedInAndBelongsToSchoolObservable: Observable<boolean> = Observable.fromPromise(this.authService.isLoggedInAndBelongsToSchool(schoolId))\n\n      return isLoggedInAndBelongsToSchoolObservable.map((res) => {\n        if (res)\n          return true;\n        // Store the attempted URL for redirecting\n        this.authService.redirectUrl = state.url;\n        // Navigate to the school home page\n        this.router.navigate(['/' ,schoolId]);\n        return false;\n      })\n\n    }\n    return Observable.fromPromise(Promise.resolve(false));\n  }\n\n  canLoad(route: Route) {\n    return this.authService.isLoggedIn();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/peace/Desktop/schoolsyncfront/~/angular2-template-loader!/home/peace/Desktop/schoolsyncfront/src/app/school/school-protected-pages-guard.service.ts","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../../services/auth.service';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MdCardModule } from '@angular/material';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-school-home',\n  template: require('./school-home.component.html'),\n  styles: [require('./school-home.component.css')]\n})\nexport class SchoolHomeComponent implements OnInit {\n\n  staffLoginForm: FormGroup;\n  //sub: Subscription\n\n  constructor(private auth: AuthService, private activatedRoute: ActivatedRoute, private router: Router, private formBuilder: FormBuilder) { }\n\n  ngOnInit() {\n    this.staffLoginForm = this.formBuilder.group({\n      email: ['', Validators.required],\n      password: ['', Validators.required]\n    });\n  }\n\n  staffLogin() {\n    console.log(this.staffLoginForm.value)\n    const userPass = this.staffLoginForm.value\n    const schoolId = this.activatedRoute.parent.snapshot.params['schoolId']\n    //alert(schoolId)\n\n    this.auth.login({ username: userPass.email, passsword: userPass.password, schoolId: schoolId }).subscribe((data) => {\n      alert(JSON.stringify(data))\n      if (data.staff) {\n        if (this.auth.redirectUrl)\n          this.router.navigateByUrl(this.auth.redirectUrl)\n        else\n          this.router.navigate(['/', schoolId, 'dashboard'])\n      }\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/peace/Desktop/schoolsyncfront/~/angular2-template-loader!/home/peace/Desktop/schoolsyncfront/src/app/school/school-home/school-home.component.ts","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-school',\n  template: require('./school.component.html'),\n  styles: [require('./school.component.css')]\n})\nexport class SchoolComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/peace/Desktop/schoolsyncfront/~/angular2-template-loader!/home/peace/Desktop/schoolsyncfront/src/app/school/school.component.ts","import { Injectable } from '@angular/core';\nimport { CanActivate, Route, CanLoad, CanActivateChild, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs/Observable';\n\nimport {\n  Angular2Apollo, ApolloQueryObservable\n} from 'angular2-apollo';\n\nimport 'rxjs/add/operator/map';\nimport gql from 'graphql-tag';\n\nconst query = gql`\nquery getSchool ($schoolIdentifier:String!){\n  findSchool(schoolIdentifier:$schoolIdentifier){\n    id\n  }\n}`\n\n@Injectable()\nexport class SchoolCanActivateGuardService implements CanActivate,CanActivateChild, CanLoad {\n\n  constructor(private apollo: Angular2Apollo) { }\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    var schoolId: string = route.params['schoolId']\n\n    return this.apollo.query({\n      query: query,\n      variables: { schoolIdentifier: schoolId }\n    }).map(({data}) => {\n      if (data.findSchool) {\n        return true;\n      }\n      return false;\n    })\n\n  }\n\n  canLoad(route: Route) {\n    return true\n  }\n\n  canActivateChild(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    return this.canActivate(route, state);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/peace/Desktop/schoolsyncfront/~/angular2-template-loader!/home/peace/Desktop/schoolsyncfront/src/app/services/school-can-activate-guard.service.ts","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MaterialModule } from '@angular/material';\nimport { SchoolComponent } from '../school/school.component';\nimport { SchoolCanActivateGuardService } from '../services/school-can-activate-guard.service';\nimport { SchoolHomeComponent } from './school-home/school-home.component';\n\nconst schoolRoutes: Routes = [\n    {\n        path: '',\n        component: SchoolComponent,\n        canActivate: [SchoolCanActivateGuardService],\n        children: [\n            {\n                path: '',\n                component: SchoolHomeComponent\n            },\n            {\n                path: 'dashboard',\n                loadChildren: 'app/school/dashboard/dashboard.module#DashboardModule'\n            }\n        ]\n    }\n]\n\n@NgModule({\n    imports: [\n        RouterModule.forChild(schoolRoutes), MaterialModule, ReactiveFormsModule, FormsModule\n    ],\n    exports: [\n        RouterModule\n    ],\n\n})\nexport class SchoolRoutingModule { }\n\n\n// WEBPACK FOOTER //\n// /home/peace/Desktop/schoolsyncfront/~/angular2-template-loader!/home/peace/Desktop/schoolsyncfront/src/app/school/school-routing.module.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/peace/Desktop/schoolsyncfront/src/app/school/school-home/school-home.component.css\n// module id = 906\n// module chunks = 0","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/peace/Desktop/schoolsyncfront/src/app/school/school.component.css\n// module id = 907\n// module chunks = 0","module.exports = \"<div id=\\\"staff_login_card\\\">\\n  <md-card class=\\\"app-input-section\\\">\\n    <md-card-title>\\n      <md-toolbar color=\\\"primary\\\">Staff Login</md-toolbar>\\n    </md-card-title>\\n    <md-card-content>\\n      <form [formGroup]=\\\"staffLoginForm\\\" (ngSubmit)=\\\"staffLogin()\\\">\\n        <md-input style=\\\"width: 100%\\\" formControlName=\\\"email\\\" placeholder=\\\"Email\\\"></md-input>\\n\\n        <md-input style=\\\"width: 100%\\\" type=\\\"password\\\" formControlName=\\\"password\\\" #password placeholder=\\\"Password\\\" maxlength=\\\"50\\\">\\n        </md-input>\\n\\n        <button style=\\\"width: 100%\\\" type=\\\"submit\\\" md-raised-button [disabled]=\\\"!staffLoginForm.valid\\\" color=\\\"primary\\\">\\n          LOGIN\\n          </button>\\n      </form>\\n    </md-card-content>\\n  </md-card>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/peace/Desktop/schoolsyncfront/src/app/school/school-home/school-home.component.html\n// module id = 910\n// module chunks = 0","module.exports = \"<p>\\n  school works!\\n\\n  <router-outlet></router-outlet>\\n</p>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/peace/Desktop/schoolsyncfront/src/app/school/school.component.html\n// module id = 911\n// module chunks = 0"],"sourceRoot":""}